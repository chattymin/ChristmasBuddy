import Foundation

/// ëœë¤ ë©”ì‹œì§€ ìƒì„±ê¸°
class MessageGenerator {
    private let morningMessages: [String]
    private let lunchMessages: [String]
    private let afternoonMessages: [String]
    private let eveningMessages: [String]
    private let nightMessages: [String]
    private let generalMessages: [String]

    init() {
        // ì•„ì¹¨ ë©”ì‹œì§€ (6ì‹œ-12ì‹œ)
        self.morningMessages = [
            "ì¢‹ì€ ì•„ì¹¨ì´ì—ìš”! â˜•",
            "ì˜¤ëŠ˜ë„ í™”ì´íŒ…! ğŸ’ª",
            "ìƒˆë¡œìš´ í•˜ë£¨ì˜ ì‹œì‘! ğŸŒ…",
            "ì•„ì¹¨ ê³µê¸°ê°€ ìƒì¾Œí•´ìš”! ğŸŒ¬ï¸",
            "ì˜¤ëŠ˜ í•˜ë£¨ë„ ë©‹ì§€ê²Œ! âœ¨",
            "ëˆˆ ë–´ì–´ìš”? ëŒ€ë‹¨í•´ìš”! ğŸ‘",
            "ì•„ì¹¨í˜• ì¸ê°„ì´ì‹œë„¤ìš”! ğŸŒ„",
            "ì˜¤ëŠ˜ì˜ í–‰ìš´ì„ ë¹Œì–´ìš”! ğŸ€",
            "ì¢‹ì€ ì¼ì´ ìƒê¸¸ ê²ƒ ê°™ì•„ìš”! ğŸ",
            "ì•„ì¹¨ë°¥ì€ ë“œì…¨ë‚˜ìš”? ğŸš",
            "í•˜í’ˆ ë‚˜ì™€ë„ ê´œì°®ì•„ìš”~ ğŸ˜ª",
            "ì˜¤ëŠ˜ ë‚ ì”¨ ì–´ë•Œìš”? â›…",
            "ìŠ¤íŠ¸ë ˆì¹­ í•œë²ˆ í•´ë´ìš”! ğŸ§˜",
            "ë¬¼ í•œ ì” ë§ˆì…”ìš”! ğŸ’§",
            "ì°½ë¬¸ ë°–ì´ ì˜ˆì˜ë„¤ìš”! ğŸªŸ",
            "ì•„ì¹¨ì€ ì—­ì‹œ ì»¤í”¼ì£ ! â˜•",
            "ì˜¤ëŠ˜ ë­ í•  ê±°ì˜ˆìš”? ğŸ“",
            "ì¢‹ì€ ê¿ˆ ê¿¨ì–´ìš”? ğŸ’­",
            "ì´ë¶ˆ ë°–ì€ ìœ„í—˜í•´ìš”... ğŸ›ï¸",
            "ê·¸ë˜ë„ ì¼ì–´ë‚¬ì–ì•„ìš”! ëŒ€ë‹¨í•´! ğŸ‘",
        ]

        // ì ì‹¬ ë©”ì‹œì§€ (12ì‹œ-14ì‹œ)
        self.lunchMessages = [
            "ì ì‹¬ ë“œì…¨ì–´ìš”? ğŸ±",
            "ë°¥ ë¨¹ì„ ì‹œê°„ì´ì—ìš”! ğŸš",
            "ë­ ë¨¹ì„ ê±°ì˜ˆìš”? ğŸ¤”",
            "ë°°ê³ í”„ì§€ ì•Šì•„ìš”? ğŸ½ï¸",
            "ì ì‹¬ì€ ë“ ë“ í•˜ê²Œ! ğŸ’ª",
            "ë§›ìˆëŠ” ê±° ë“œì„¸ìš”! ğŸ˜‹",
            "í˜¹ì‹œ ë¼ë©´...? ğŸœ",
            "í›„ì‹ë„ ì¤‘ìš”í•´ìš”! ğŸ°",
            "ì ì‹¬ì‹œê°„ì´ ë„ˆë¬´ ì§§ì•„ìš”ã…  â°",
            "ì˜¤ëŠ˜ ì ì‹¬ ë­ì˜ˆìš”? ğŸ”",
            "ì‹í›„ ì»¤í”¼ í•œ ì”? â˜•",
            "ë°°ë¶€ë¥´ë©´ ì¡¸ë¦¬ì£ ~ ğŸ˜´",
            "ì ì‹¬ ë§›ìˆê²Œ ë“œì„¸ìš”! ğŸ¥¢",
            "ì˜¤ëŠ˜ì€ íŠ¹ë³„í•œ ë©”ë‰´ë¡œ! â­",
            "ê°™ì´ ë¨¹ìœ¼ë©´ ë” ë§›ìˆì–´ìš”! ğŸ¤",
        ]

        // ì˜¤í›„ ë©”ì‹œì§€ (14ì‹œ-18ì‹œ)
        self.afternoonMessages = [
            "ì˜¤í›„ì—ë„ í˜ë‚´ì„¸ìš”! ğŸŒŸ",
            "ì»¤í”¼ í•œ ì” ì–´ë•Œìš”? â˜•",
            "ì¡¸ë¦¬ë©´ ì ê¹ ì‰¬ì–´ìš”~ ğŸ˜ª",
            "ì˜¤í›„ì˜ ë‚˜ë¥¸í•¨... ğŸ’¤",
            "ê°„ì‹ ë¨¹ì„ ì‹œê°„! ğŸª",
            "3ì‹œì˜ ë§ˆë²•... ì¡¸ë ¤ìš” ğŸ˜µ",
            "ì˜¤ëŠ˜ ë­ í–ˆì–´ìš”? ğŸ“‹",
            "ì˜ í•˜ê³  ìˆì–´ìš”! ğŸ‘",
            "ì¡°ê¸ˆë§Œ ë” í˜ë‚´ìš”! ğŸ’ª",
            "ë‹¬ì½¤í•œ ê±° ë•¡ê¸°ì§€ ì•Šì•„ìš”? ğŸ«",
            "ì°½ë°– êµ¬ê²½ í•œë²ˆ í•´ë´ìš”! ğŸŒ¤ï¸",
            "ìŒì•… ë“¤ìœ¼ë©´ì„œ ì¼í•´ìš”! ğŸµ",
            "ê¸°ì§€ê°œ í•œë²ˆ ì¼œë´ìš”! ğŸ™†",
            "ëˆˆì´ í”¼ê³¤í•˜ë©´ ì‰¬ì–´ìš”! ğŸ‘€",
            "ì˜¤ëŠ˜ë„ ì—´ì‹¬íˆ! íŒŒì´íŒ…! ğŸ”¥",
            "í‡´ê·¼ì´ ë³´ì—¬ìš”...! ğŸšª",
            "ì˜¤í›„ í‹°íƒ€ì„ ì–´ë•Œìš”? ğŸ«–",
            "ì ê¹ ì‚°ì±… ì–´ë•Œìš”? ğŸš¶",
            "í•˜ëŠ˜ì´ ì˜ˆìœ ì˜¤í›„ì—ìš”! â˜ï¸",
            "ë²Œì¨ ì˜¤í›„ë¼ë‹ˆ... ì‹œê°„ ë¹¨ë¼ìš”! â³",
        ]

        // ì €ë… ë©”ì‹œì§€ (18ì‹œ-22ì‹œ)
        self.eveningMessages = [
            "ì•„ì§ í‡´ê·¼ì€ ì•„ë‹Œ ê²ƒ ê°™ì•„ìš”... â›„",
            "ì˜¤ëŠ˜ë„ ê³ ìƒ ë§ìœ¼ì…¨ì–´ìš”! ğŸŒ™",
            "ì €ë… ë§›ìˆê²Œ ë“œì„¸ìš”! ğŸ",
            "í‡´ê·¼ ì¶•í•˜í•´ìš”! ğŸ‰",
            "ì§‘ì— ê°€ëŠ” ê¸¸ì´ ì„¤ë ˆìš”! ğŸ ",
            "ì˜¤ëŠ˜ í•˜ë£¨ ì–´ë• ì–´ìš”? ğŸ’­",
            "í‘¹ ì‰¬ì„¸ìš”! ğŸ›‹ï¸",
            "ì¹˜í‚¨ ì–´ë•Œìš”? ğŸ—",
            "ì•¼ì‹ì˜ ìœ í˜¹... ğŸŒ™",
            "TV ë³¼ ì‹œê°„ì´ì—ìš”! ğŸ“º",
            "ë”°ëœ»í•œ êµ­ë¬¼ ë•¡ê¸°ë„¤ìš”! ğŸ²",
            "ì˜¤ëŠ˜ ì €ë… ë­ì˜ˆìš”? ğŸ¤”",
            "ìˆ˜ê³ í–ˆì–´ìš”, ì˜¤ëŠ˜ë„! ğŸ‘",
            "í¸í•œ ì˜·ìœ¼ë¡œ ê°ˆì•„ì…ì–´ìš”! ğŸ‘•",
            "ë°œ ë»—ê³  ì‰¬ì–´ìš”~ ğŸ¦¶",
            "ë§¥ì£¼ í•œ ì”...? ğŸº",
            "ì˜í™” ë³´ëŠ” ì €ë… ì–´ë•Œìš”? ğŸ¬",
            "ë”°ëœ»í•œ ì°¨ í•œ ì”! ğŸµ",
            "í•˜ë£¨ì˜ ëì´ ë³´ì—¬ìš”! ğŸŒ…",
            "ë‚´ì¼ë„ ì¢‹ì€ í•˜ë£¨ê°€ ë  ê±°ì˜ˆìš”! âœ¨",
        ]

        // ë°¤/ìƒˆë²½ ë©”ì‹œì§€ (22ì‹œ-6ì‹œ)
        self.nightMessages = [
            "ì•„ì§ ì•ˆ ì£¼ë¬´ì…¨ì–´ìš”? ğŸŒ™",
            "ë°¤ì´ ê¹Šì—ˆì–´ìš”! ğŸŒƒ",
            "í‘¹ ììš”! ğŸ’¤",
            "ì¢‹ì€ ê¿ˆ ê¿”ìš”! ğŸŒŸ",
            "ë‚´ì¼ ë˜ ë§Œë‚˜ìš”! ğŸ‘‹",
            "ì˜¬ë¹¼ë¯¸ì‹œë„¤ìš”! ğŸ¦‰",
            "ì•¼ì‹ ë¨¹ìœ¼ë©´ ì•ˆ ë¼ìš”~! ğŸ™…",
            "í•«ì´ˆì½” í•œ ì”? ğŸ«",
            "ë³„ì´ ì˜ˆìœ ë°¤ì´ì—ìš”! â­",
            "ì´ì œ ì˜ ì‹œê°„ì´ì—ìš”! ğŸ›ï¸",
            "ê¿ˆì—ì„œ ë§Œë‚˜ìš”! ğŸ’­",
            "ìƒˆë²½ ê³µê¸°ëŠ” ì°¨ê°€ì›Œìš”! ğŸ¥¶",
            "ì¡°ìš©í•œ ë°¤ì´ë„¤ìš”... ğŸ¤«",
            "ì ì´ ì•ˆ ì˜¤ë©´ ì–‘ì„ ì„¸ë´ìš”! ğŸ‘",
            "ë”°ëœ»í•˜ê²Œ ììš”! ğŸ§£",
            "ë‚´ì¼ì„ ìœ„í•´ ì‰¬ì–´ìš”! ğŸŒ…",
            "ìˆ˜ë©´ì´ ë³´ì•½ì´ì—ìš”! ğŸ’Š",
            "ìì¥ê°€ ë¶ˆëŸ¬ë“œë¦´ê¹Œìš”? ğŸµ",
            "ë°¤ì€ ëª¨ë“  ê²ƒì„ ê°ì‹¸ì¤˜ìš”! ğŸŒŒ",
            "ì¡°ëª… ì¤„ì´ê³  ì‰¬ì–´ìš”~ ğŸ’¡",
        ]

        // ì¼ë°˜/í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë©”ì‹œì§€
        self.generalMessages = [
            "ë©”ë¦¬ í¬ë¦¬ìŠ¤ë§ˆìŠ¤! ğŸ…",
            "í–‰ë³µí•œ í•˜ë£¨ ë˜ì„¸ìš”! â­",
            "ë‹¹ì‹ ì€ ì˜í•˜ê³  ìˆì–´ìš”! ğŸ’",
            "í™”ì´íŒ…! ğŸ",
            "ì ê¹ ì‰¬ì–´ê°€ì„¸ìš”~ ğŸ„",
            "ëˆˆì´ ì˜¬ ê²ƒ ê°™ì•„ìš”! â„ï¸",
            "ì‚°íƒ€ëŠ” ì¤€ë¹„ ì¤‘! ğŸ…",
            "ì„ ë¬¼ ë­ ë°›ê³  ì‹¶ì–´ìš”? ğŸ",
            "ë£¨ëŒí”„ê°€ ì¸ì‚¬í•´ìš”! ğŸ¦Œ",
            "ë”°ëœ»í•˜ê²Œ ì…ìœ¼ì„¸ìš”! ğŸ§¥",
            "í•«ì´ˆì½” ë§ˆì‹¤ë˜ìš”? â˜•",
            "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬ ì˜ˆë»ìš”! ğŸ„",
            "ì§•ê¸€ë²¨~ ì§•ê¸€ë²¨~ ğŸ””",
            "ì˜¬í•´ë„ ìˆ˜ê³ í–ˆì–´ìš”! ğŸ‘",
            "í–‰ë³µí•œ ì—°ë§ ë˜ì„¸ìš”! ğŸŠ",
            "ëˆˆì‚¬ëŒ ë§Œë“¤ë˜ìš”? â›„",
            "ìºë¡¤ ë“¤ì„ ì‹œê°„! ğŸµ",
            "ì¿ í‚¤ êµ¬ì› ì–´ìš”! ğŸª",
            "í¬ê·¼í•œ í•˜ë£¨ ë˜ì„¸ìš”! ğŸ§¸",
            "ì›ƒìœ¼ë©´ ë³µì´ ì™€ìš”! ğŸ˜Š",
            "ë‹¹ì‹ ì´ ìµœê³ ì˜ˆìš”! ğŸ†",
            "ì˜¤ëŠ˜ë„ íŒŒì´íŒ…! ğŸ’ª",
            "ì˜ ë  ê±°ì˜ˆìš”! ğŸ€",
            "í˜ë“¤ë©´ ì‰¬ì–´ë„ ë¼ìš”! ğŸŒˆ",
            "ë§›ìˆëŠ” ê±° ë“œì„¸ìš”! ğŸ•",
            "ìŒì•… ë“¤ì–´ìš”! ğŸ§",
            "ìŠ¤íŠ¸ë ˆì¹­ í•´ìš”! ğŸ¤¸",
            "ë¬¼ ë§ˆì…¨ì–´ìš”? ğŸ’§",
            "ì‹¬í˜¸í¡ í•œë²ˆ! ğŸŒ¬ï¸",
            "ì›ƒì–´ë´ìš”! ğŸ˜„",
            "ì˜¤ëŠ˜ì˜ TMI: í­ê·„ì€ ë¬´ë¦ì´ ìˆì–´ìš”! ğŸ§",
            "ì¬ì±„ê¸°ëŠ” ì‹œì† 160kmë˜ìš”! ğŸ¤§",
            "í•˜ë§ˆëŠ” ë•€ì´ ë¶„í™ìƒ‰ì´ì—ìš”! ğŸ¦›",
            "ì½”ì•Œë¼ëŠ” í•˜ë£¨ 22ì‹œê°„ ììš”! ğŸ¨",
            "ë²ŒìƒˆëŠ” ë’¤ë¡œ ë‚  ìˆ˜ ìˆì–´ìš”! ğŸ¦",
            "ë°”ë‚˜ë‚˜ëŠ” ë² ë¦¬ë˜ìš”! ğŸŒ",
            "ë‡ŒëŠ” í†µì¦ì„ ëª» ëŠê»´ìš”! ğŸ§ ",
            "ê¿€ì€ ì©ì§€ ì•Šì•„ìš”! ğŸ¯",
            "ë¬¸ì–´ëŠ” ì‹¬ì¥ì´ 3ê°œ! ğŸ™",
            "ë‹¹ê·¼ì´ ë‹¹ê·¼ì´ë˜ìš”! (ì§„ì§œì˜ˆìš”) ğŸ¥•",
        ]
    }

    /// í˜„ì¬ ì‹œê°„ëŒ€ì— ë§ëŠ” ëœë¤ ë©”ì‹œì§€ ë°˜í™˜
    func getRandomMessage() -> String {
        let hour = Calendar.current.component(.hour, from: Date())

        // ì‹œê°„ëŒ€ë³„ ë©”ì‹œì§€ í’€ ì„ íƒ
        let timeBasedMessages: [String]
        switch hour {
        case 6..<12:
            timeBasedMessages = morningMessages
        case 12..<14:
            timeBasedMessages = lunchMessages
        case 14..<18:
            timeBasedMessages = afternoonMessages
        case 18..<22:
            timeBasedMessages = eveningMessages
        default: // 22ì‹œ-6ì‹œ
            timeBasedMessages = nightMessages
        }

        // ì‹œê°„ëŒ€ë³„ ë©”ì‹œì§€ + ì¼ë°˜ ë©”ì‹œì§€ì—ì„œ ëœë¤ ì„ íƒ (ì‹œê°„ëŒ€ë³„ 70%, ì¼ë°˜ 30%)
        let useTimeBasedMessage = Double.random(in: 0...1) < 0.7
        let pool = useTimeBasedMessage ? timeBasedMessages : generalMessages
        return pool.randomElement() ?? "ë©”ë¦¬ í¬ë¦¬ìŠ¤ë§ˆìŠ¤! ğŸ…"
    }

    /// ë°°í„°ë¦¬ ìƒíƒœì— ë”°ë¥¸ ë©”ì‹œì§€
    func getBatteryMessage(level: Int) -> String? {
        if level < 20 {
            return "ì¶©ì „ì´ í•„ìš”í•´ìš”! ğŸ”Œ"
        } else if level == 100 {
            return "ë°°í„°ë¦¬ ì™„ì¶©! ğŸ‰"
        }
        return nil
    }
}
